Design of a cathodoluminescence image generator using a Raspberry Pi coupled to a scanning electron microscope
In this work, an innovative cathodoluminescence (CL) system is coupled to a scanning electron microscope and synchronized with a Raspberry Pi computer integrated with an innovative processing signal. The post-processing signal is based on a Python algorithm that correlates the CL and secondary electron (SE) images with a precise dwell time correction. For CL imaging, the emission signal is collected through an optical fiber and transduced to an electrical signal via a photomultiplier tube (PMT). CL Images are registered in a panchromatic mode and can be filtered using a monochromator connected between the optical fiber and the PMT to produce monochromatic CL images. The designed system has been employed to study ZnO samples prepared by electrical arc discharge and microwave methods. CL images are compared with SE images and chemical elemental mapping images to correlate the emission regions of the sample.
I. INTRODUCTION
Cathodoluminescence (CL) is a spectroscopy technique used for decades in studies to determine optical properties of materials such as semiconductors, geological specimens, and other minerals in the range of hundreds of nanometers and microns and is a useful technique for the non-destructive characterization method [1–4]. Pioneer studies in CL were developed at large scale by Davoine et_al, in which a detailed explanation for the emissions produced by the electron-matter interaction is given [5]. CL, as other luminescence techniques, can provide optical properties and electronic state transitions and can be correlated with plasmonic effects in samples [6,7]. The principle of CL is based on the electron beam-sample interaction process, leading to the stimulation of electron-hole recombination between the valence and conduction bands and emitting light. The energy used in a scanning electron microscope (SEM) ranges from few keV up to 30 keV. However, independent of the accelerating voltage used in the microscope, the density current of electrons determines the intensity of the emitted light [8]. Light emissions in CL can be described using the crystallographic models and the band theory of solids [9]. Thus, if electrons land with enough energy to the crystal, electrons from the lower-energy valence band are promoted to the higher-energy conduction band. Therefore, when the electrons get back to the valence band, the energy lost is emitted in the appropriate energy or wavelength range. The bandwidth of the emitted photons in semiconductor materials ranges from the UV up to IR [10].
The design electronic circuits and sensors adapted to optimized embedded systems expedite the acquisition and the processing of signal data collected from various physical phenomena. One example of an embedded system is the Raspberry Pi and its general purpose input/output (GPIO) port, which uses a serial peripheral interface (SPI) as a communication protocol between the electronic circuits along with the analog-to-digital converter (ADC) and the Raspberry Pi. A photomultiplier tube (PMT) is a sensor that converts the collected light into electric signals. Synchronization of the scanned areas using a scanning electron microscope (SEM) and the CL signal conversion presented in this work was performed using the integration of the PMT and the ADC coupled to the Raspberry Pi followed by a customable post-processing method. The post-processing of the registered signal has been carried out by an innovative combination of image scripting and Python language to produce CL images in contrast with other methods reported in previous studies in the past [11,12]. ZnO samples have been used to validate the data collected with CL systems and compared with the emissions that exhibit this material at micro and nanoscale.
II. CATHODOLUMINESCENCE SYSTEM DESIGN
The experimental setup to acquire the signal data was performed in a variable pressure SEM Hitachi SU1510 operated at 30 kV. The optical fiber used in the experiments was FT200UMT ThorLabs, which has a bandwidth between 300 and 1200 nm. The optical fiber was placed near the sample to collect the emission light inside the chamber of the microscope. The photomultiplier tube used was a Hamamatsu model R928, which is capable to register light in a bandwidth between 185 and 900 nm and a gain of 10^{7} at 1000 V of bias voltage [13]. The monochromator used for this experiment was an ORIEL model 77250 for the acquisition of the monochromatic image. However, images can be taken without the monochromator and panchromatic images can be registered. During the acquisition process, a pre-amplifier circuit (model OPA227), which contains a low noise operational amplifier (op-amp), is used for signal conditioning and for its subsequent digitalization using an ADC. Later, the reconstruction of the images was done under a Python algorithm, which associates the acquired data to a grey scale stored in a matrix array to finally generate the CL image. A general diagram of the electronic design and the experimental setup are shown in Fig. 1.
A high voltage power source (1250 V) is connected to the PMT and the electric current (I_{HV}) is delimited due to the resistors connected between the cathode (K) and the ground (G). This arrangement is called DC configuration and has a linear response of the light intensity that is collected [see Fig. 2(a)]. The total current I_{HV} is calculated from a serial resistive circuit using the resistances from R_{1} to R_{10}, resulting in a total current in the circuit of I_{HV} = −833 μA. The maximum output voltage (V_{o}) is reached at 1% of the current of the circuit when the PMT receives the maximum illumination. In this way, the maximum outside current (I_{A}) produced by the PMT would be I_{A} = 0.01 × I_{HV} = 8.3 μA [14,15]. Therefore, the resistor charge (R), shown in Fig. 2(a), is calculated to be 602 kΩ at 5 V of V_{o} with a measured signal noise ratio (SNR) of 200. For SNR ratio measurement, we have performed the measurement with the electron beam off and on using an oscilloscope. The amplifier used for the treatment of the signal was inverted and configured using a gain of −15 at a SNR of 97.5 [16,17]. Thus, the CL image is generated by the PMT signal using the V_{out} taken from the op-amp and sent to the ADC. The ADC used was the MCP3201, which has a 12 bit of resolution and a sample rate of 100 kHz and it is compatible with the SPI protocol in the GPIO ports in a three-wire mode [18]. The electronic diagram of the system is shown in Fig. 2(b). The protocol has been selected by the high speed synchronous communications with electronic devices and allows a serial bit stream programmed length from 2 to 16 bits [19,20]. Raspberry Pi used in this design is a computer (Linux platform based) with a CPU 1.2 GHz 64 bit quad core ARMv8 and 1 GB of RAM. Data transferred to the Raspberry Pi computer are processed using a software package that uses Python language [21–24].
The acquisition of the spectra is realized with the coupling of the optical fiber to the spectrometer (UV-Vis Ocean Optics model USB2000), which use a CCD silicon detector. For CL imaging, data captured in the ADC are organized in a matrix array of 640 × 480 pixels and synchronized with the same area of the secondary electron (SE) image. These voided pixels help us to make connections line-by-line of the data registered and also make a rearrangement with respect to the same field of view of the SE images. The procedure to obtain a CL image is described as follows: (1) the region of interest is localized in regular operation of the microscope, and at this point, the magnification and position are defined; (2) the electron beam is blanked to start to collect the emission light reference (no CL signal), (3) the CL signal is captured when the electron beam registers a SE image, and simultaneously CL data are sent to the Raspberry Pi system, (4) after the data collection, electron beam blanked and the CL collection stops it manually. Emission light converted to the CL image is delayed 18 ms after the initial scanning and it is readjusted using the post-processing program, code available in the supplementary material. As a part of the CL image processing, a recalibration of the scale is adjusted to the magnification used in the SEM to determine the pixel size. In this way, the alignment of the CL and SE images is performed by merging voided pixels from the beginning to the end of the acquisition process.
III. ANALYSIS OF ZnO SAMPLES
Sample preparation is available in the supplementary material. Two types of structures have been analyzed: ZnO nanorod synthesized with the microwave method [25] and ZnO powders obtained in an electrical arc discharge reactor. In addition to the CL spectra and images, X-ray energy dispersive spectroscopy (EDS) spectra have been registered in the scanned regions. For the CL measurements, the experimental parameters of the microscope were a beam diameter of about 3 nm and a current in the sample of 72 μA and 96 μA for the panchromatic and monochromatic CL images, respectively.
A. Panchromatic CL images
ZnO nanorods have been prepared using a precursor solution heated at a temperature range between 20 and 90 °C with a reaction time from 1 to 50 min. The thermal ramp followed during the microwave is a function of time as shown in Fig. S2(b) of the supplementary material. The reaction time controls the dimensions of the ZnO nanorods. Furthermore, when the microwave irradiation process is over, the nanorods are washed 3–4 times, allowing the solution to precipitate and removing the excess of undesirable solvents. Crystalline structure and morphology of the nanorods are analyzed by transmission electron microscopy and shown in Fig. S3 of the supplementary material. In Fig. S3 of the supplementary material, it is possible to see a preferred growth along the ⟨0001⟩ direction conformed by the high resolution transmission image (HRTEM) and electron diffraction pattern. The CL image of a ZnO nanorod has been obtained at 12 kx of magnification as well as the EDS spectrum. The CL image was filtered with median algorithm, using the ImageJ software. This filter reduces noise in the image by replacing each pixel with the median of the neighboring pixel values. With this tool, the reduction of the image conserves a good resolution at this magnification; this is shown in Fig. 3(b). The EDS spectrum shows the distribution of zinc and oxygen, color blue corresponds to oxygen, and green for the zinc.
B. CL monochromatic image
The CL monochromatic image was collected by coupling the optical fiber and the PMT to the monochromator. The ZnO is a well-known material and is used to test this configuration of this system. The most intensive peak from the CL spectra is 515 nm (2.4 eV); this emission is normally associated with oxygen vacancies and the peak located at 375 nm (3.36 eV) corresponds to the band gap energy of ZnO at room temperature [26,27]. The image of Fig. 4(c) is a monochromatic image using a wavelength of at 515 nm. For the monochromatic image, the PMT is mounted on the monochromator and the signal is filtered to reduce the noise from the sample using ImageJ program.
In addition, the EDS analysis has been obtained in the sample. Figure 5(b) displays the CL image obtained by the designed system and the mapping of the EDS illustrates the distribution of elements.
IV. CONCLUSION
Luminescence emitted by the sample is collected through the optical fiber and converted into an electric signal using the PMT and the Raspberry Pi computer. The integrated system is configured with a post-processing method based on Image J scripting and Python language, making the design an affordable and customized CL imaging system for any scanning electron microscope. The post-processing method herein presented is capable to compensate any dwell time delay between the SE images and the CL images. The designed system and post-processing can be adaptable to CL images with and without the use of a monochromator and subsequently treated by the post-processing proposed methodology to produce panchromatic or monochromatic CL images. CL spectra obtained from the ZnO sample in the present work were compared with spectra reported in the literature to ensure the reliability of the data collected using the integrated Raspberry Pi system and its CL images generated after the post-processing method.
SUPPLEMENTARY MATERIAL
FIG. 1. 
(a) Graphical sketch of the experimental setup: the CL emission is collected by the optical fiber plugged to a PMT which converts the luminescence to electrical signal, then the preamp amplifies the signal using a low noise op-amp connected to the ADC, and finally the Raspberry Pi acquires the information from the ADC and creates the image by an algorithm based on Python language. (b) Optical fiber is placed near the sample inside the SEM chamber, (c) optical fiber coupled to the microscope using a special vacuum fitting tube, and (d) photomultiplier tube used for the CL system.
FIG. 2. 
(a) Configuration of the PMT. The resistors from R1 to R10 limit the current in the circuit; the resistor R corresponds to the resistor which will be plugged to the amplifier. (b) General electronic scheme of the CL system designed, and this scheme shows the pin connection among the electronic devices with the corresponding pins.
FIG. 3. 
ZnO nanorod: (a) SE image of the ZnO, (b) CL image using the designed system. (c) shows the EDS in the line profile across the nanorod. (d) and (e) show the EDS mapping for zinc and oxygen.
FIG. 4. 
ZnO CL spectrum measured. (a) CL spectrum shows the main peak characteristics of the ZnO, (b) SE image at 3700×, and (c) monochromatic image in the same area considering a wavelength filtered with the monochromator at 515 nm.
FIG. 5. 
Comparison of the CL image with the EDS of the sample ZnO. (a) SE image, (b) CL image, and [(c) and (d)] EDS maps of the elements found in the sample.
